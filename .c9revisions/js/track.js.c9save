{"ts":1359463821942,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"$(document).ready(function(){\r\n    var path={\r\n    grid:[\r\n    //1st Row\r\n    {'x':0,'y':0},\r\n    {'x':100,'y':0},\r\n    {'x':200,'y':0},\r\n    {'x':300,'y':0},\r\n    {'x':400,'y':0},\r\n    {'x':500,'y':0},\r\n    {'x':600,'y':0},\r\n    {'x':700,'y':0},\r\n    {'x':800,'y':0},\r\n    {'x':900,'y':0},\r\n    //2nd Row\r\n    {'x':900,'y':120},\r\n    {'x':800,'y':120},\r\n    {'x':700,'y':120},\r\n    {'x':600,'y':120},\r\n    {'x':500,'y':120},\r\n    {'x':400,'y':120},\r\n    {'x':300,'y':120},\r\n    {'x':200,'y':120},\r\n    {'x':100,'y':120},\r\n    {'x':0,'y':120},\r\n    //3rd Row\r\n    {'x':0,'y':240},\r\n    {'x':100,'y':240},\r\n    {'x':200,'y':240},\r\n    {'x':300,'y':240},\r\n    {'x':400,'y':240},\r\n    {'x':500,'y':240},\r\n    {'x':600,'y':240},\r\n    {'x':700,'y':240},\r\n    {'x':800,'y':240},\r\n    {'x':900,'y':240},\r\n    //4th Row\r\n    {'x':900,'y':360},\r\n    {'x':800,'y':360},\r\n    {'x':700,'y':360},\r\n    {'x':600,'y':360},\r\n    {'x':500,'y':360},\r\n    {'x':400,'y':360},\r\n    {'x':300,'y':360},\r\n    {'x':200,'y':360},\r\n    {'x':100,'y':360},\r\n    {'x':0,'y':360},\r\n    //5th Row\r\n\r\n    {'x':0,'y':480},\r\n    {'x':100,'y':480},\r\n    {'x':200,'y':480},\r\n    {'x':300,'y':480},\r\n    {'x':400,'y':480},\r\n    {'x':500,'y':480},\r\n    {'x':600,'y':480},\r\n    {'x':700,'y':480},\r\n    {'x':800,'y':480},\r\n    {'x':900,'y':480}]\r\n};\r\n/*\r\n{\r\n'cars': [{\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'yellow'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'green'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'orange'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'white'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'grey'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'pink'\r\n    }]\r\n\r\n}\r\n*/\r\n\r\n    \r\nvar Paper = new Raphael('canvas',1000,760);\r\n\r\nvar elementArray=[];\r\n\r\n//Global function to update the car location\r\nCarLocation=function(options){\r\n    for (var i = elementArray.length - 1; i >= 0; i--) {\r\n        elementArray[i].remove();\r\n    };\r\n    for (var i = 0;i<options.cars.length;i++) {\r\n        if(options.cars[i].exist)\r\n        {\r\n            block=options.cars[i].block-1;//Since We are referring to an array and count starts from 0\r\n            var cx=path.grid[block].x+Math.round(Math.random()*80);\r\n            var cy=10+path.grid[block].y+Math.round(Math.random()*80);\r\n            elementArray.push(Paper.image(options.cars[i].src, cx,cy,60,30));\r\n\r\n\r\n        }\r\n    };\r\n\r\n}\r\n\r\n//RoadPatch Class that handles most of the functions as well as the Object specific code\r\nvar RoadPatch=function(){};\r\nRoadPatch.prototype.settings={\r\n                            'sidewalkWidth': 10,\r\n                            'sidewalkLength': 100,\r\n                            'sidewalkColor': 'brown',\r\n                            'RoadPatchWidth': 100,\r\n                            'RoadPatchLength': 100,\r\n                            'RoadPatchColor': 'black',\r\n                            'roadStripLength': 40,\r\n                            'roadStripWidth': 10,\r\n                            'roadStripColor': '#FFFFFF'\r\n                            };\r\nRoadPatch.prototype.getSettings=function(){return this.settings;};\r\n\r\n\r\nvar upperStrip=function(RoadPatch,Paper,grid){\r\n    //Upper Strip Sidewalk\r\n    Paper.rect(grid.x,grid.y,RoadPatch.getSettings().sidewalkLength,RoadPatch.getSettings().sidewalkWidth).attr({\r\n        'fill':RoadPatch.getSettings().sidewalkColor\r\n    });\r\n}\r\n\r\nvar lowerStrip=function(RoadPatch,Paper,grid){\r\n    //Lower Strip Sidewalk\r\n    Paper.rect(grid.x,grid.y+RoadPatch.getSettings().sidewalkWidth+RoadPatch.getSettings().RoadPatchWidth,RoadPatch.getSettings().sidewalkLength,RoadPatch.getSettings().sidewalkWidth).attr({\r\n        'fill':RoadPatch.getSettings().sidewalkColor\r\n    });\r\n};\r\n\r\n//Generates the Strips on the Road\r\nvar stripBuilder=function(RoadPatch,Paper,grid){\r\n                    return Paper.rect((0.2*RoadPatch.getSettings().RoadPatchLength)+grid.x, (0.4*RoadPatch.getSettings().RoadPatchWidth)+grid.y+RoadPatch.getSettings().sidewalkWidth, RoadPatch.getSettings().roadStripLength, RoadPatch.getSettings().roadStripWidth).attr({\r\n                                    'fill': 'white'\r\n                                });\r\n \r\n                           };\r\n//Generated the Road\r\nvar roadBuilder=function(RoadPatch,Paper,grid){\r\n                    return Paper.rect(grid.x,grid.y+RoadPatch.getSettings().sidewalkWidth, RoadPatch.getSettings().RoadPatchLength, RoadPatch.getSettings().RoadPatchWidth).attr({\r\n                            'fill': '#3D6E99',\r\n                            'stroke': '#3D6E99'\r\n                        });\r\n                       \r\n                    };\r\n//Initialization of the Road\r\nvar init=function(RoadPatch,Paper,grid){\r\n    roadBuilder(RoadPatch,Paper,grid);\r\n    stripBuilder(RoadPatch,Paper,grid);\r\n    upperStrip(RoadPatch,Paper,grid);\r\n    lowerStrip(RoadPatch,Paper,grid);\r\n}\r\n\r\n\r\n\r\n    for(var i=0;i<path.grid.length;i++)\r\n    {\r\n    var a = new RoadPatch();\r\n    init(a,Paper,path.grid[i]);\r\n    }\r\n});\r\n"]],"start1":0,"start2":0,"length1":0,"length2":5136}]],"length":5136}
{"contributors":[],"silentsave":false,"ts":1359463757860,"patch":[[{"diffs":[[0,"\n        {\r\n"],[1,"            alert(block);\r\n"],[0,"            "]],"start1":2170,"start2":2170,"length1":24,"length2":51}]],"length":5163,"saved":false}
{"ts":1359463806998,"patch":[[{"diffs":[[0," {\r\n"],[-1,"            alert(block);\r\n"],[0,"    "]],"start1":2178,"start2":2178,"length1":35,"length2":8}]],"length":5136,"saved":false}
{"ts":1359464214008,"patch":[[{"diffs":[[0,"};\r\n"],[-1,"/*\r\n{\r\n'cars': [{\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'yellow'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'green'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'orange'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'white'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'grey'\r\n    },\r\n    {\r\n        'block':5,\r\n        'exist':true,\r\n        'color':'pink'\r\n    }]\r\n\r\n}\r\n*/"],[0,"\r\n\r\n"]],"start1":1306,"start2":1306,"length1":525,"length2":8}]],"length":4619,"saved":false}
{"ts":1359464342586,"patch":[[{"diffs":[[0,"unction(){\r\n"],[1,"    \r\n    //try using require js in order to remove this kind of path directive or make some code that can generate the same.\r\n"],[0,"    var path"]],"start1":19,"start2":19,"length1":24,"length2":151}]],"length":4746,"saved":false}
{"ts":1359464386040,"patch":[[{"diffs":[[0,"\n\r\n}\r\n\r\n"],[1,"\r\n\r\n"],[0,"//RoadPa"]],"start1":2138,"start2":2138,"length1":16,"length2":20}]],"length":4750,"saved":false}
{"ts":1359464898177,"patch":[[{"diffs":[[0,";\r\n}\r\n\r\n\r\n\r\n"],[1,"\r\n\r\n//Bootstrap the game using this set of code\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    /*API Preperation using the Factory Pattern and Modularization\r\n      In this approach we have one Global Variable called UB alias\r\n      The Urban Traveller and most of the thigs would be handled\r\n      by this global variable. I have to modularize the code for \r\n      the UI.\r\n    */\r\n    UB={\r\n        init:function(){\r\n        "],[0,"    for(var "]],"start1":4615,"start2":4615,"length1":24,"length2":439},{"diffs":[[0,"h;i++)\r\n    "],[-1,"{\r\n"],[1,"        {\r\n            "],[0,"    var a = "]],"start1":5075,"start2":5075,"length1":27,"length2":47},{"diffs":[[0,"adPatch();\r\n"],[1,"             "],[0,"    init(a,P"]],"start1":5128,"start2":5128,"length1":24,"length2":37},{"diffs":[[0,");\r\n    "],[-1,"}"],[1,"        }\r\n            \r\n                             }\r\n    };\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    "],[0,"\r\n});\r\n"]],"start1":5182,"start2":5182,"length1":16,"length2":306}]],"length":5488,"saved":false}
{"ts":1359465048166,"patch":[[{"diffs":[[0,"    "],[-1,"roadBuilder(RoadPatch,Paper,grid);\r\n    stripBuilder(RoadPatch,Paper,grid);\r\n    upperStrip(RoadPatch,Paper,grid);\r\n    lowerStrip(RoadPatch,Paper,grid);"],[0,"\r\n}\r"]],"start1":4459,"start2":4459,"length1":161,"length2":8},{"diffs":[[0,"    "],[-1," init(a,Paper,path."],[1,"roadBuilder(RoadPatch,Paper,grid);\r\n                stripBuilder(RoadPatch,Paper,grid);\r\n                upperStrip(RoadPatch,Paper,grid);\r\n                lowerStrip(RoadPatch,Paper,"],[0,"grid"],[-1,"[i]"],[0,");\r\n"]],"start1":4999,"start2":4999,"length1":34,"length2":195}]],"length":5496,"saved":false}
